-- DarkBlueUI Library with Scaling and CoreGui support
local DarkBlueUI = {}

function DarkBlueUI:CreateWindow(titleText, scale)
	scale = scale or 1

	local CoreGui = game:GetService("CoreGui")
	local Players = game:GetService("Players")
	local player = Players.LocalPlayer

	-- UI Scaling
	local baseWidth, baseHeight = 300, 200
	local scaledWidth, scaledHeight = baseWidth * scale, baseHeight * scale

	local gui = Instance.new("ScreenGui")
	gui.Name = "DarkBlueThemeUI"
	gui.ResetOnSpawn = false
	gui.IgnoreGuiInset = true
	gui.Parent = CoreGui

	-- Main Frame
	local frame = Instance.new("Frame")
	frame.Size = UDim2.new(0, scaledWidth, 0, scaledHeight)
	frame.Position = UDim2.new(0.5, -scaledWidth / 2, 0.5, -scaledHeight / 2)
	frame.BackgroundColor3 = Color3.fromRGB(15, 20, 40)
	frame.BorderSizePixel = 0
	frame.Parent = gui

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 8 * scale)
	corner.Parent = frame

	-- Title
	local title = Instance.new("TextLabel")
	title.Text = titleText or "Dark Blue UI"
	title.Size = UDim2.new(1, 0, 0, 40 * scale)
	title.BackgroundTransparency = 1
	title.TextColor3 = Color3.fromRGB(200, 220, 255)
	title.Font = Enum.Font.GothamSemibold
	title.TextSize = 20 * scale
	title.Parent = frame

	-- Divider Line
	local line = Instance.new("Frame")
	line.Size = UDim2.new(1, -20 * scale, 0, 1)
	line.Position = UDim2.new(0, 10 * scale, 0, 42 * scale)
	line.BackgroundColor3 = Color3.fromRGB(50, 60, 100)
	line.BorderSizePixel = 0
	line.Parent = frame

	-- Layout Container
	local layoutContainer = Instance.new("Frame")
	layoutContainer.BackgroundTransparency = 1
	layoutContainer.Size = UDim2.new(1, -20 * scale, 1, -60 * scale)
	layoutContainer.Position = UDim2.new(0, 10 * scale, 0, 50 * scale)
	layoutContainer.Parent = frame

	local uiListLayout = Instance.new("UIListLayout")
	uiListLayout.Padding = UDim.new(0, 8 * scale)
	uiListLayout.FillDirection = Enum.FillDirection.Vertical
	uiListLayout.SortOrder = Enum.SortOrder.LayoutOrder
	uiListLayout.Parent = layoutContainer

	-- Return API
	return {
		Frame = frame,
		Container = layoutContainer,
		AddButton = function(self, text, callback)
			local button = Instance.new("TextButton")
			button.Size = UDim2.new(1, 0, 0, 40 * scale)
			button.Text = text or "Button"
			button.BackgroundColor3 = Color3.fromRGB(30, 40, 80)
			button.TextColor3 = Color3.fromRGB(220, 230, 255)
			button.Font = Enum.Font.Gotham
			button.TextSize = 18 * scale
			button.AutoButtonColor = true
			button.Parent = self.Container

			local buttonCorner = Instance.new("UICorner")
			buttonCorner.CornerRadius = UDim.new(0, 6 * scale)
			buttonCorner.Parent = button

			button.MouseButton1Click:Connect(function()
				if callback then callback() end
			end)
		end
	}
end

return DarkBlueUI
